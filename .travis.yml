sudo: false

language: cpp

env:
  - NODE_VERSION=0.10
  - NODE_VERSION=0.12

os:
- linux
- osx

matrix:
  allow_failures:
    - os: osx

install:
- export CXX="g++-4.8" CC="gcc-4.8"
- rm -rf ~/.nvm
- wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.26.1/install.sh | bash
- source ~/.nvm/nvm.sh
- nvm install "${NODE_VERSION}"
- test "x${TRAVIS_OS_NAME}x" = "xosxx" && brew install scons || true

addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - libboost-all-dev
    - libcurl4-openssl-dev
    - uuid-dev
    - g++-4.8

script: npm run-script ci
